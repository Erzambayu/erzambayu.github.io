<!-- Interactive Timeline Component -->
<div class="interactive-timeline" id="interactive-timeline">
  <!-- Timeline Navigation -->
  <div class="timeline-nav mb-4">
    <div class="timeline-filters d-flex justify-content-center flex-wrap gap-2">
      <button class="timeline-filter-btn active" data-filter="all">
        <i class="fas fa-th-list me-2"></i>
        <span data-translate="timeline.all">Semua</span>
      </button>
      <button class="timeline-filter-btn" data-filter="work">
        <i class="fas fa-briefcase me-2"></i>
        <span data-translate="timeline.work">Pekerjaan</span>
      </button>
      <button class="timeline-filter-btn" data-filter="education">
        <i class="fas fa-graduation-cap me-2"></i>
        <span data-translate="timeline.education">Pendidikan</span>
      </button>
      <button class="timeline-filter-btn" data-filter="certification">
        <i class="fas fa-certificate me-2"></i>
        <span data-translate="timeline.certification">Sertifikasi</span>
      </button>
      <button class="timeline-filter-btn" data-filter="freelance">
        <i class="fas fa-user-tie me-2"></i>
        <span data-translate="timeline.freelance">Freelance</span>
      </button>
    </div>
  </div>

  <!-- Timeline Container -->
  <div class="timeline-container position-relative">
    <!-- Timeline Line -->
    <div class="timeline-line"></div>
    
    <!-- Timeline Items -->
    <div class="timeline-items">
      
      <!-- Experience Items -->
      {% for item in site.data.experience %}
      <div class="timeline-item-wrapper" data-category="{{ item.type }}" data-aos="fade-up" data-aos-delay="{{ forloop.index0 | times: 100 }}">
        <div class="timeline-item {{ item.type }}">
          <!-- Timeline Dot -->
          <div class="timeline-dot">
            <i class="{{ item.icon }}"></i>
          </div>
          
          <!-- Timeline Content -->
          <div class="timeline-content">
            <div class="timeline-header">
              <h3 class="timeline-title">{{ item.title }}</h3>
              <div class="timeline-meta">
                <span class="timeline-period">
                  <i class="fas fa-calendar-alt me-1"></i>
                  {{ item.period }}
                </span>
                <span class="timeline-organization">
                  <i class="fas fa-building me-1"></i>
                  {{ item.organization }}
                </span>
                <span class="timeline-location">
                  <i class="fas fa-map-marker-alt me-1"></i>
                  {{ item.location }}
                </span>
              </div>
            </div>
            
            <div class="timeline-description">
              <p>{{ item.description }}</p>
              
              {% if item.achievements %}
              <div class="timeline-achievements mt-3">
                <h4 class="achievement-title">
                  <i class="fas fa-trophy me-2"></i>
                  <span data-translate="timeline.achievements">Pencapaian:</span>
                </h4>
                <ul class="achievement-list">
                  {% for achievement in item.achievements %}
                  <li>{{ achievement }}</li>
                  {% endfor %}
                </ul>
              </div>
              {% endif %}
              
              {% if item.technologies %}
              <div class="timeline-technologies mt-3">
                <h4 class="tech-title">
                  <i class="fas fa-tools me-2"></i>
                  <span data-translate="timeline.technologies">Teknologi:</span>
                </h4>
                <div class="tech-tags">
                  {% for tech in item.technologies %}
                  <span class="tech-tag">{{ tech }}</span>
                  {% endfor %}
                </div>
              </div>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
      
      <!-- Education Items -->
      {% for item in site.data.education %}
      <div class="timeline-item-wrapper" data-category="{{ item.type }}" data-aos="fade-up" data-aos-delay="{{ forloop.index0 | plus: site.data.experience.size | times: 100 }}">
        <div class="timeline-item {{ item.type }}">
          <!-- Timeline Dot -->
          <div class="timeline-dot">
            <i class="{{ item.icon }}"></i>
          </div>
          
          <!-- Timeline Content -->
          <div class="timeline-content">
            <div class="timeline-header">
              <h3 class="timeline-title">{{ item.title }}</h3>
              <div class="timeline-meta">
                <span class="timeline-period">
                  <i class="fas fa-calendar-alt me-1"></i>
                  {{ item.period }}
                </span>
                <span class="timeline-organization">
                  <i class="fas fa-building me-1"></i>
                  {{ item.organization }}
                </span>
                <span class="timeline-location">
                  <i class="fas fa-map-marker-alt me-1"></i>
                  {{ item.location }}
                </span>
              </div>
            </div>
            
            <div class="timeline-description">
              <p>{{ item.description }}</p>
              
              {% if item.achievements %}
              <div class="timeline-achievements mt-3">
                <h4 class="achievement-title">
                  <i class="fas fa-trophy me-2"></i>
                  <span data-translate="timeline.achievements">Pencapaian:</span>
                </h4>
                <ul class="achievement-list">
                  {% for achievement in item.achievements %}
                  <li>{{ achievement }}</li>
                  {% endfor %}
                </ul>
              </div>
              {% endif %}
              
              {% if item.technologies %}
              <div class="timeline-technologies mt-3">
                <h4 class="tech-title">
                  <i class="fas fa-tools me-2"></i>
                  <span data-translate="timeline.technologies">Teknologi:</span>
                </h4>
                <div class="tech-tags">
                  {% for tech in item.technologies %}
                  <span class="tech-tag">{{ tech }}</span>
                  {% endfor %}
                </div>
              </div>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
      
    </div>
  </div>
</div>

<!-- Timeline JavaScript -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const timelineFilters = document.querySelectorAll('.timeline-filter-btn');
  const timelineItems = document.querySelectorAll('.timeline-item-wrapper');
  
  // Filter functionality
  timelineFilters.forEach(filter => {
    filter.addEventListener('click', function() {
      const category = this.getAttribute('data-filter');
      
      // Update active filter
      timelineFilters.forEach(f => f.classList.remove('active'));
      this.classList.add('active');
      
      // Filter timeline items
      timelineItems.forEach(item => {
        if (category === 'all' || item.getAttribute('data-category') === category) {
          item.style.display = 'block';
          setTimeout(() => {
            item.style.opacity = '1';
            item.style.transform = 'translateY(0)';
          }, 100);
        } else {
          item.style.opacity = '0';
          item.style.transform = 'translateY(20px)';
          setTimeout(() => {
            item.style.display = 'none';
          }, 300);
        }
      });
    });
  });
  
  // Intersection Observer for timeline animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const timelineObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);
  
  timelineItems.forEach(item => {
    timelineObserver.observe(item);
  });
});
</script>